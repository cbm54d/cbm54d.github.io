<!DOCTYPE html>
<html>
<head>
    <meta name="description" content="Knight's Tour">
    <meta name="author" content="Christopher Mitchell">
    <meta charset="UTF-8">
    <title>The Knight's Tour</title>
    <link rel="stylesheet" href="main.css">

<script>
    
function checkChoice(index){
    valid = true;
    switch(index){
        case 0:
            var box = document.getElementById("box0");
            break;
        case 1:
            var box = document.getElementById("box1");
            break;
        case 2:
            var box = document.getElementById("box2");
            break;
        case 3:
            var box = document.getElementById("box3");
            break;
        case 4:
            var box = document.getElementById("box4");
            break;
        case 5:
            var box = document.getElementById("box5");
            break;
        case 6:
            var box = document.getElementById("box6");
            break;
        case 7:
            var box = document.getElementById("box7");
            break;
        case 20:
            var box = document.getElementById("box8");
            break;
        case 21:
            var box = document.getElementById("box9");
            break;
        case 22:
            var box = document.getElementById("box10");
            break;
        case 23:
            var box = document.getElementById("box11");
            break;
        case 24:
            var box = document.getElementById("box12");
            break;
        case 25:
            var box = document.getElementById("box13");
            break;
        case 26:
            var box = document.getElementById("box14");
            break;
        case 27:
            var box = document.getElementById("box15");
            break;
        case 40:
            var box = document.getElementById("box16");
            break;
        case 41:
            var box = document.getElementById("box17");
            break;
        case 42:
            var box = document.getElementById("box18");
            break;
        case 43:
            var box = document.getElementById("box19");
            break;
        case 44:
            var box = document.getElementById("box20");
            break;
        case 45:
            var box = document.getElementById("box21");
            break;
        case 46:
            var box = document.getElementById("box22");
            break;
        case 47:
            var box = document.getElementById("box23");
            break;
        case 60:
            var box = document.getElementById("box24");
            break;
        case 61:
            var box = document.getElementById("box25");
            break;
        case 62:
            var box = document.getElementById("box26");
            break;
        case 63:
            var box = document.getElementById("box27");
            break;
        case 64:
            var box = document.getElementById("box28");
            break;
        case 65:
            var box = document.getElementById("box29");
            break;
        case 66:
            var box = document.getElementById("box30");
            break;
        case 67:
            var box = document.getElementById("box31");
            break;
        case 80:
            var box = document.getElementById("box32");
            break;
        case 81:
            var box = document.getElementById("box33");
            break;
        case 82:
            var box = document.getElementById("box34");
            break;
        case 83:
            var box = document.getElementById("box35");
            break;
        case 84:
            var box = document.getElementById("box36");
            break;
        case 85:
            var box = document.getElementById("box37");
            break;
        case 86:
            var box = document.getElementById("box38");
            break;
        case 87:
            var box = document.getElementById("box39");
            break;
        case 100:
            var box = document.getElementById("box40");
            break;
        case 101:
            var box = document.getElementById("box41");
            break;
        case 102:
            var box = document.getElementById("box42");
            break;
        case 103:
            var box = document.getElementById("box43");
            break;
        case 104:
            var box = document.getElementById("box44");
            break;
        case 105:
            var box = document.getElementById("box45");
            break;
        case 106:
            var box = document.getElementById("box46");
            break;
        case 107:
            var box = document.getElementById("box47");
            break;
        case 120:
            var box = document.getElementById("box48");
            break;
        case 121:
            var box = document.getElementById("box49");
            break;
        case 122:
            var box = document.getElementById("box50");
            break;
        case 123:
            var box = document.getElementById("box51");
            break;
        case 124:
            var box = document.getElementById("box52");
            break;
        case 125:
            var box = document.getElementById("box53");
            break;
        case 126:
            var box = document.getElementById("box54");
            break;
        case 127:
            var box = document.getElementById("box55");
            break;
        case 140:
            var box = document.getElementById("box56");
            break;
        case 141:
            var box = document.getElementById("box57");
            break;
        case 142:
            var box = document.getElementById("box58");
            break;
        case 143:
            var box = document.getElementById("box59");
            break;
        case 144:
            var box = document.getElementById("box60");
            break;
        case 145:
            var box = document.getElementById("box61");
            break;
        case 146:
            var box = document.getElementById("box62");
            break;
        case 147:
            var box = document.getElementById("box63");
            break;
        default:
            valid = false;
            break;   
    }
    if(parseInt(document.getElementById("numBox").innerHTML) == 0 || box.style.background == "lightblue"){
        changeBoxes(index);
    }
}
    
function resetBlue() {
    var box;
    for(c = 0; c < 64; c++){
        box = document.getElementById("box"+(c.toString()));
        if(box.style.background == "lightblue"){
            if(document.body.style.background == "black"){
                box.style.background = "black";
            } else {
                box.style.background = "red";
            }
        }
    }
}
    
function changeBoxes(index) {
    
    resetBlue();
    var a = [index, index+22, index-22, index+18, index-18, index+39, index-39, index+41, index-41];
    var center = true;
    for(c = 0; c < 9; c++){
        valid = true;
        switch(a[c]){
        case 0:
            var box = document.getElementById("box0");
            break;
        case 1:
            var box = document.getElementById("box1");
            break;
        case 2:
            var box = document.getElementById("box2");
            break;
        case 3:
            var box = document.getElementById("box3");
            break;
        case 4:
            var box = document.getElementById("box4");
            break;
        case 5:
            var box = document.getElementById("box5");
            break;
        case 6:
            var box = document.getElementById("box6");
            break;
        case 7:
            var box = document.getElementById("box7");
            break;
        case 20:
            var box = document.getElementById("box8");
            break;
        case 21:
            var box = document.getElementById("box9");
            break;
        case 22:
            var box = document.getElementById("box10");
            break;
        case 23:
            var box = document.getElementById("box11");
            break;
        case 24:
            var box = document.getElementById("box12");
            break;
        case 25:
            var box = document.getElementById("box13");
            break;
        case 26:
            var box = document.getElementById("box14");
            break;
        case 27:
            var box = document.getElementById("box15");
            break;
        case 40:
            var box = document.getElementById("box16");
            break;
        case 41:
            var box = document.getElementById("box17");
            break;
        case 42:
            var box = document.getElementById("box18");
            break;
        case 43:
            var box = document.getElementById("box19");
            break;
        case 44:
            var box = document.getElementById("box20");
            break;
        case 45:
            var box = document.getElementById("box21");
            break;
        case 46:
            var box = document.getElementById("box22");
            break;
        case 47:
            var box = document.getElementById("box23");
            break;
        case 60:
            var box = document.getElementById("box24");
            break;
        case 61:
            var box = document.getElementById("box25");
            break;
        case 62:
            var box = document.getElementById("box26");
            break;
        case 63:
            var box = document.getElementById("box27");
            break;
        case 64:
            var box = document.getElementById("box28");
            break;
        case 65:
            var box = document.getElementById("box29");
            break;
        case 66:
            var box = document.getElementById("box30");
            break;
        case 67:
            var box = document.getElementById("box31");
            break;
        case 80:
            var box = document.getElementById("box32");
            break;
        case 81:
            var box = document.getElementById("box33");
            break;
        case 82:
            var box = document.getElementById("box34");
            break;
        case 83:
            var box = document.getElementById("box35");
            break;
        case 84:
            var box = document.getElementById("box36");
            break;
        case 85:
            var box = document.getElementById("box37");
            break;
        case 86:
            var box = document.getElementById("box38");
            break;
        case 87:
            var box = document.getElementById("box39");
            break;
        case 100:
            var box = document.getElementById("box40");
            break;
        case 101:
            var box = document.getElementById("box41");
            break;
        case 102:
            var box = document.getElementById("box42");
            break;
        case 103:
            var box = document.getElementById("box43");
            break;
        case 104:
            var box = document.getElementById("box44");
            break;
        case 105:
            var box = document.getElementById("box45");
            break;
        case 106:
            var box = document.getElementById("box46");
            break;
        case 107:
            var box = document.getElementById("box47");
            break;
        case 120:
            var box = document.getElementById("box48");
            break;
        case 121:
            var box = document.getElementById("box49");
            break;
        case 122:
            var box = document.getElementById("box50");
            break;
        case 123:
            var box = document.getElementById("box51");
            break;
        case 124:
            var box = document.getElementById("box52");
            break;
        case 125:
            var box = document.getElementById("box53");
            break;
        case 126:
            var box = document.getElementById("box54");
            break;
        case 127:
            var box = document.getElementById("box55");
            break;
        case 140:
            var box = document.getElementById("box56");
            break;
        case 141:
            var box = document.getElementById("box57");
            break;
        case 142:
            var box = document.getElementById("box58");
            break;
        case 143:
            var box = document.getElementById("box59");
            break;
        case 144:
            var box = document.getElementById("box60");
            break;
        case 145:
            var box = document.getElementById("box61");
            break;
        case 146:
            var box = document.getElementById("box62");
            break;
        case 147:
            var box = document.getElementById("box63");
            break;
        default:
            valid = false;
            break;   
    }
        if(valid == true){
            if(center == true){
                if(document.body.style.background == "black"){
                    box.style.background = "red";
                } else {
                    box.style.background = "black";
                }
                  
            } else {
                if(box.style.background == "black" && document.body.style.background == "black"){
                    box.style.background = "lightblue";
                } else if(box.style.background == "red" && document.body.style.background == "red"){
                    box.style.background = "lightblue";
                }
            }
        }
        center = false;
    }
    var moves = document.getElementById("numBox");
    moves.innerHTML = (parseInt(moves.innerHTML) + 1).toString();
}

function resetBoard(){
    var bc = document.body.style.background;
    for(c = 0; c < 64; c++){
        document.getElementById("box"+c.toString()).style.background = bc;
        document.getElementById("sumBox").innerHTML = "0";
        document.getElementById("numBox").innerHTML = "0";
    }
}
    
function checkSolve(){

    var total = 0;
    var posMoves = 0;
    var moves = document.getElementById("numBox");
    var min = document.getElementById("moves");
    for(c = 0; c < 64; c++){
        if(document.body.style.background == "black"){
            if(document.getElementById("box"+c.toString()).style.background == "red"){
                total++;
            }
        } else {
            if(document.getElementById("box"+c.toString()).style.background == "black"){
                total++;
            }
        }
        if(document.getElementById("box"+c.toString()).style.background == "lightblue"){
            posMoves++;
        }
    }
    document.getElementById("sumBox").innerHTML = total.toString();
    if(total == 64){
        if(document.body.style.background == "black"){
            document.getElementById("grid").style.background = "red";
            document.body.style.background = "red";
        } else {
            document.getElementById("grid").style.background = "black";
            document.body.style.background = "black";
        }
        if(min.innerHTML == "0"){
            document.getElementById("challenge").innerHTML = "If you can solve the entire thing in less than 40 moves, then I solute you...";
        }
        if((parseInt(moves.innerHTML) < parseInt(min.innerHTML)) || min.innerHTML == "0"){
            min.innerHTML = (parseInt(moves.innerHTML));
        }
        moves.innerHTML = "0";
    } else if(posMoves == 0){
        resetBoard();
    }
}

</script>
    
</head>
<body style="background:black;">
    
    <div id="grid" style="float:left;" onclick="checkSolve();">
        <span class="eight">
            <canvas class="box" id="box0" onclick=";checkChoice(0)" style="background:black;"></canvas>
            <canvas class="box" id="box1"  onclick=";checkChoice(1)" style="background:black;"></canvas>
            <canvas class="box" id="box2" onclick=";checkChoice(2)" style="background:black;"></canvas>
            <canvas class="box" id="box3" onclick=";checkChoice(3)" style="background:black;"></canvas>
            <canvas class="box" id="box4"  onclick=";checkChoice(4)" style="background:black;"></canvas>
            <canvas class="box" id="box5" onclick=";checkChoice(5)" style="background:black;"></canvas>
            <canvas class="box" id="box6" onclick=";checkChoice(6)" style="background:black;"></canvas>
            <canvas class="box" id="box7"  onclick=";checkChoice(7)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box8" onclick=";checkChoice(20)" style="background:black;"></canvas>
            <canvas class="box" id="box9"  onclick=";checkChoice(21)" style="background:black;"></canvas>
            <canvas class="box" id="box10" onclick=";checkChoice(22)" style="background:black;"></canvas>
            <canvas class="box" id="box11" onclick=";checkChoice(23)" style="background:black;"></canvas>
            <canvas class="box" id="box12"  onclick=";checkChoice(24)" style="background:black;"></canvas>
            <canvas class="box" id="box13" onclick=";checkChoice(25)" style="background:black;"></canvas>
            <canvas class="box" id="box14" onclick=";checkChoice(26)" style="background:black;"></canvas>
            <canvas class="box" id="box15"  onclick=";checkChoice(27)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box16" onclick=";checkChoice(40)" style="background:black;"></canvas>
            <canvas class="box" id="box17"  onclick=";checkChoice(41)" style="background:black;"></canvas>
            <canvas class="box" id="box18" onclick=";checkChoice(42)" style="background:black;"></canvas>
            <canvas class="box" id="box19" onclick=";checkChoice(43)" style="background:black;"></canvas>
            <canvas class="box" id="box20"  onclick=";checkChoice(44)" style="background:black;"></canvas>
            <canvas class="box" id="box21" onclick=";checkChoice(45)" style="background:black;"></canvas>
            <canvas class="box" id="box22" onclick=";checkChoice(46)" style="background:black;"></canvas>
            <canvas class="box" id="box23"  onclick=";checkChoice(47)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box24" onclick=";checkChoice(60)" style="background:black;"></canvas>
            <canvas class="box" id="box25"  onclick=";checkChoice(61)" style="background:black;"></canvas>
            <canvas class="box" id="box26" onclick=";checkChoice(62)" style="background:black;"></canvas>
            <canvas class="box" id="box27" onclick=";checkChoice(63)" style="background:black;"></canvas>
            <canvas class="box" id="box28"  onclick=";checkChoice(64)" style="background:black;"></canvas>
            <canvas class="box" id="box29" onclick=";checkChoice(65)" style="background:black;"></canvas>
            <canvas class="box" id="box30" onclick=";checkChoice(66)" style="background:black;"></canvas>
            <canvas class="box" id="box31"  onclick=";checkChoice(67)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box32" onclick=";checkChoice(80)" style="background:black;"></canvas>
            <canvas class="box" id="box33"  onclick=";checkChoice(81)" style="background:black;"></canvas>
            <canvas class="box" id="box34" onclick=";checkChoice(82)" style="background:black;"></canvas>
            <canvas class="box" id="box35" onclick=";checkChoice(83)" style="background:black;"></canvas>
            <canvas class="box" id="box36"  onclick=";checkChoice(84)" style="background:black;"></canvas>
            <canvas class="box" id="box37" onclick=";checkChoice(85)" style="background:black;"></canvas>
            <canvas class="box" id="box38" onclick=";checkChoice(86)" style="background:black;"></canvas>
            <canvas class="box" id="box39"  onclick=";checkChoice(87)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box40" onclick=";checkChoice(100)" style="background:black;"></canvas>
            <canvas class="box" id="box41"  onclick=";checkChoice(101)" style="background:black;"></canvas>
            <canvas class="box" id="box42" onclick=";checkChoice(102)" style="background:black;"></canvas>
            <canvas class="box" id="box43" onclick=";checkChoice(103)" style="background:black;"></canvas>
            <canvas class="box" id="box44"  onclick=";checkChoice(104)" style="background:black;"></canvas>
            <canvas class="box" id="box45" onclick=";checkChoice(105)" style="background:black;"></canvas>
            <canvas class="box" id="box46" onclick=";checkChoice(106)" style="background:black;"></canvas>
            <canvas class="box" id="box47"  onclick=";checkChoice(107)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box48" onclick=";checkChoice(120)" style="background:black;"></canvas>
            <canvas class="box" id="box49"  onclick=";checkChoice(121)" style="background:black;"></canvas>
            <canvas class="box" id="box50" onclick=";checkChoice(122)" style="background:black;"></canvas>
            <canvas class="box" id="box51" onclick=";checkChoice(123)" style="background:black;"></canvas>
            <canvas class="box" id="box52"  onclick=";checkChoice(124)" style="background:black;"></canvas>
            <canvas class="box" id="box53" onclick=";checkChoice(125)" style="background:black;"></canvas>
            <canvas class="box" id="box54" onclick=";checkChoice(126)" style="background:black;"></canvas>
            <canvas class="box" id="box55"  onclick=";checkChoice(127)" style="background:black;"></canvas>
        </span><br><span class="eight">
            <canvas class="box" id="box56" onclick=";checkChoice(140)" style="background:black;"></canvas>
            <canvas class="box" id="box57"  onclick=";checkChoice(141)" style="background:black;"></canvas>
            <canvas class="box" id="box58" onclick=";checkChoice(142)" style="background:black;"></canvas>
            <canvas class="box" id="box59" onclick=";checkChoice(143)" style="background:black;"></canvas>
            <canvas class="box" id="box60"  onclick=";checkChoice(144)" style="background:black;"></canvas>
            <canvas class="box" id="box61" onclick=";checkChoice(145)" style="background:black;"></canvas>
            <canvas class="box" id="box62" onclick=";checkChoice(146)" style="background:black;"></canvas>
            <canvas class="box" id="box63"  onclick=";checkChoice(147)" style="background:black;"></canvas>
        </span>
    </div>
    
    <div class="vertical">
        <span style="color:white;font-size:44px;">LEAST MOVES TO SOLVE:</span>
        <span id="moves" style="color:white;font-size:44px;">0</span>
    </div>
    <span style="float:left;">
    <p id="numBox" class="numBox">
        0
    </p>
    <p id="sumBox" class="numBox">
        0
    </p>
    </span>
    
    <p id="challenge" style="font-size:24px;float:left;text-align:center;max-width:600px;color:white;"></p>
    
    
</body>
</html>